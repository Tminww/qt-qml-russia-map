# Карта России - Демо приложение Qt5

Интерактивное приложение для работы с картой России, реализованное на Qt5 с C++11. Поддерживает два режима отображения и взаимодействия.

## Возможности

### Режим 1: QGraphicsView + SVG карта

- Отображение SVG карты России с отдельными регионами
- Интерактивная карта с возможностью клика по регионам
- Дерево регионов слева для навигации
- Подсветка выбранных регионов
- Масштабирование и панорамирование карты
- Автоматическое приближение к выбранному региону

### Режим 2: QML + Canvas/Shapes

- Современный QML интерфейс с Qt Quick Shapes
- C++ backend с Q_PROPERTY для управления состоянием
- Динамическое изменение цветов регионов
- Синхронизация между деревом и картой
- Анимации и переходы

## Технологии

- **Qt5** с поддержкой C++11
- **QGraphicsView/QGraphicsScene** для SVG отображения
- **QML/Qt Quick** для современного интерфейса
- **QXmlStreamReader** для парсинга SVG
- **QTreeWidget** для навигации по регионам
- **Qt Quick Shapes** для векторной графики в QML

## Структура проекта

```
qt-map-demo/
├── MapDemo.pro          # Файл проекта Qt
├── main.cpp             # Основной файл приложения
├── mapwidget.h          # Заголовочный файл виджета карты
├── mapwidget.cpp        # Реализация виджета карты
├── mapbackend.h         # C++ backend для QML
├── mapbackend.cpp       # Реализация backend
├── russia_map.svg       # SVG карта России
├── map.qml              # QML интерфейс
├── resources.qrc        # Файл ресурсов
└── README.md            # Документация
```

## Сборка и запуск

### Требования

- Qt5 (версия 5.12 или выше)
- Компилятор с поддержкой C++11
- CMake или qmake

### Сборка через qmake

```bash
qmake MapDemo.pro
make
```

### Сборка через CMake (если используется)

```bash
mkdir build
cd build
cmake ..
make
```

### Запуск

```bash
./bin/MapDemo
```

## Использование

1. **Переключение режимов**: Используйте кнопки "QGraphicsView режим" и "QML режим" в верхней части приложения.

2. **QGraphicsView режим**:

   - Кликните по региону на карте или в дереве для его выбора
   - Используйте колесо мыши для масштабирования
   - Перетаскивайте для панорамирования
   - Выбранный регион подсвечивается синим цветом

3. **QML режим**:
   - Регионы автоматически меняют цвет каждые 3 секунды
   - Кликните по региону в дереве для его выбора
   - Используйте кнопки "Сбросить выделение" и "Симулировать обновление"

## Особенности реализации

### QGraphicsView подход

- Парсинг SVG через QXmlStreamReader
- Создание отдельных QGraphicsSvgItem для каждого региона
- Обработка событий мыши для интерактивности
- Использование QGraphicsColorizeEffect для подсветки

### QML подход

- Qt Quick Shapes для векторной графики
- C++ backend с Q_PROPERTY для управления состоянием
- QML States и Transitions для анимаций
- Автоматическое обновление через QTimer

## Расширение функциональности

Для добавления новых возможностей:

1. **Новые регионы**: Добавьте path элементы в `russia_map.svg` и обновите списки в коде
2. **Дополнительные данные**: Расширьте `MapBackend` новыми свойствами
3. **Стилизация**: Измените CSS в SVG или стили в QML
4. **Анимации**: Добавьте QPropertyAnimation в C++ или transitions в QML

## Лицензия

Этот проект создан в образовательных целях. Свободно используйте и модифицируйте код.
